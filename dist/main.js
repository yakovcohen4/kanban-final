(()=>{function t(t,n){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,d=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){d=!0,i=t},f:function(){try{s||null==a.return||a.return()}finally{if(d)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function n(t,e,n,a,r,o,i){try{var s=t[o](i),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,r)}function a(t){return function(){var e=this,a=arguments;return new Promise((function(r,o){var i=t.apply(e,a);function s(t){n(i,r,o,s,d,"next",t)}function d(t){n(i,r,o,s,d,"throw",t)}s(void 0)}))}}function r(t){localStorage.setItem("tasks",JSON.stringify(t))}JSON.parse(localStorage.getItem("tasks"))?localStorage.getItem("tasks"):localStorage.setItem("tasks",JSON.stringify({todo:[],"in-progress":[],done:[]})),data=JSON.parse(localStorage.getItem("tasks"));var o,s=document.getElementById("submit-add-to-do"),d=document.getElementById("submit-add-in-progress"),c=document.getElementById("submit-add-done");function l(t){var e=t.target;if(e===s||e===d||e===c){var n=e.closest("section"),a=n.querySelector("input").value;if(""===a)return alert("You did not enter a task");var o=n.querySelector("ul"),i=function(t){return k("li",t,["task"],{draggable:"true",contenteditable:!0},{click:u,mouseover:f,dragstart:v})}(a);o.insertBefore(i,o.firstChild),function(t,e){var n=t.closest("section").id;t===s&&data[n].unshift(e),t===d&&data[n].unshift(e),t===c&&data[n].unshift(e),r(data)}(e,a),n.querySelector("input").value=""}}function u(t){var e=t.target;e.style.backgroundColor="whitesmoke";var n=e.textContent;e.addEventListener("blur",(function(){var t=e.textContent,a=e.closest("section");if(null!==a){var o=a.id;if(""===e.textContent){alert("you delete your task"),e.remove();var i=data[o].indexOf(n);data[o].splice(i,1)}else{var s=data[o].indexOf(n);data[o].splice(s,1,t)}e.style.backgroundColor="rgb(192, 236, 172)",r(data)}}))}function f(t){o=t.target,document.onkeydown=function(t){if(void 0!==o){var e=o.textContent,n=o.closest("section").id;if(t.altKey&&"1"===t.key){var a=document.querySelector(".to-do-tasks");a.insertBefore(o,a.firstChild),data.todo.unshift(e),function(t,e){var n=data[t].indexOf(e);data[t].splice(n,1)}(n,e)}else if(t.altKey&&"2"===t.key){var i=document.querySelector(".in-progress-tasks");i.insertBefore(o,i.firstChild),data["in-progress"].unshift(e);var s=data[n].indexOf(e);data[n].splice(s,1)}else{if(!t.altKey||"3"!==t.key)return;var d=document.querySelector(".done-tasks");d.insertBefore(o,d.firstChild),data.done.unshift(e);var c=data[n].indexOf(e);data[n].splice(c,1)}o=void 0}r(data)}}function v(t){var e=t.target,n=e.parentElement.parentElement;if(e.classList.contains("task")){e.classList.add("dragzone"),t.dataTransfer.setData("text/plain","dragzone");var a=data[n.id].indexOf(e.textContent);data[n.id].splice(a,1)}}function p(t){t.preventDefault()}function m(t){var e=t.target,n=e.parentElement;if("tasks"==n.className){var a=document.querySelector(".dragzone");e.insertBefore(a,e.firstChild),data[n.id].unshift(a.textContent),a.classList.remove("dragzone")}r(data)}function y(){return(y=a(regeneratorRuntime.mark((function t(){var e,n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e=document.getElementById("load")).setAttribute("class","loader"),n={Accept:"application/json","Content-Type":"application/json"},t.next=7,fetch("https://json-bins.herokuapp.com/bin/614adb274021ac0e6c080c13",{method:"GET",headers:n});case 7:return a=t.sent,t.next=10,a.json();case 10:o=t.sent,h(),r(o.tasks.data),data=o.tasks.data,b(),e.removeAttribute("class","loader"),t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",alert("error"));case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))).apply(this,arguments)}function g(){return(g=a(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e=document.getElementById("load")).setAttribute("class","loader"),n=JSON.stringify({tasks:{data}}),a={Accept:"application/json","Content-Type":"application/json"},t.next=8,fetch("https://json-bins.herokuapp.com/bin/614adb274021ac0e6c080c13",{method:"PUT",body:n,headers:a});case 8:t.sent,e.removeAttribute("class","loader"),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",alert("error"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function h(){var e,n=t(document.querySelectorAll(".task"));try{for(n.s();!(e=n.n()).done;)e.value.remove()}catch(t){n.e(t)}finally{n.f()}data={todo:[],"in-progress":[],done:[]},r(data)}function k(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=document.createElement(e);i.textContent=n;var s,d=t(a);try{for(d.s();!(s=d.n()).done;){var c=s.value;i.classList.add(c)}}catch(t){d.e(t)}finally{d.f()}for(var l in r)i.setAttribute(l,r[l]);for(act in o)i.addEventListener(act,o[act]);return i}function b(){var e,n=t(document.querySelectorAll("ul"));try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.addEventListener("drop",m),a.addEventListener("dragover",p),a.classList.contains("to-do-tasks")){var r,o=t(data.todo);try{for(o.s();!(r=o.n()).done;){var i=r.value;a.append(k("li",i,["task"],{draggable:"true",contenteditable:!0},{dblclick:u,mouseover:f,dragstart:v}))}}catch(t){o.e(t)}finally{o.f()}}if(a.classList.contains("in-progress-tasks")){var s,d=t(data["in-progress"]);try{for(d.s();!(s=d.n()).done;){var c=s.value;a.append(k("li",c,["task"],{draggable:"true",contenteditable:!0},{dblclick:u,mouseover:f,dragstart:v}))}}catch(t){d.e(t)}finally{d.f()}}if(a.classList.contains("done-tasks")){var l,y=t(data.done);try{for(y.s();!(l=y.n()).done;){var g=l.value;a.append(k("li",g,["task"],{draggable:"true",contenteditable:!0},{dblclick:u,mouseover:f,dragstart:v}))}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){n.e(t)}finally{n.f()}}s.addEventListener("click",l),d.addEventListener("click",l),c.addEventListener("click",l),document.getElementById("search").addEventListener("keyup",(function(){var t=document.getElementById("search").value;t=t.toLowerCase();var e=document.getElementsByClassName("task");for(i=0;i<e.length;i++)e[i].innerHTML.toLowerCase().includes(t)?e[i].style.display="list-item":e[i].style.display="none"})),document.getElementById("load-btn").addEventListener("click",(function(){return y.apply(this,arguments)})),document.getElementById("save-btn").addEventListener("click",(function(){return g.apply(this,arguments)})),document.getElementById("clear-btn").addEventListener("click",h),b()})();